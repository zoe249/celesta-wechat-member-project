{"version":3,"sources":["webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/components/ui-components/yp-luck-draw/yp-lucky-grid.vue?ab30","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/components/ui-components/yp-luck-draw/yp-lucky-grid.vue?98e5","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/components/ui-components/yp-luck-draw/yp-lucky-grid.vue?7fa8","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/components/ui-components/yp-luck-draw/yp-lucky-grid.vue?3360","uni-app:///components/ui-components/yp-luck-draw/yp-lucky-grid.vue","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/components/ui-components/yp-luck-draw/yp-lucky-grid.vue?83e3","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/components/ui-components/yp-luck-draw/yp-lucky-grid.vue?16ba"],"names":["data","isClickBut","imgUrl","speed","position","runPosition","props","gridInfo","winPrizes","luckDraws","mounted","methods","checkLuckDraw","uni","mask","url","console","title","icon","startLuckDraw","setTimeout","clearInterval","content","showCancel","confirmText","success","that","start"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AAC0K;AAC1K,gBAAgB,mLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,qpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCuBppB;EACAA;IACA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;IACAC;IACAC;EACA;EACAC,6BAEA;EACAC;IACA;IACAC;MAAA;MACA;MACA;MACAC;QACAC;MACA;MACA;MACA;QACAC;MACA;QACAC;QACAH;QACA;UACA;UACA;QACA;UACA;UACAA;YACAI;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACAC;QACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;UACAC;UACAA;UACA;UACA;UACA;YACA;UACA;UACAD;YACAC;YACA;YACA;YACAR;cACAS;cACAC;cACAC;cACAC;gBACA;kBACAC;gBACA;cACA;YACA;YACA;UACA;QACA;MACA;MACA;MACAN;QACA;UACA;QACA;QACAA;UACAC;QACA;MACA;IACA;IACA;IACAM;MACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;UACA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxJA;AAAA;AAAA;AAAA;AAA45B,CAAgB,s5BAAG,EAAC,C;;;;;;;;;;;ACAh7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ui-components/yp-luck-draw/yp-lucky-grid.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./yp-lucky-grid.vue?vue&type=template&id=273b0d37&\"\nvar renderjs\nimport script from \"./yp-lucky-grid.vue?vue&type=script&lang=js&\"\nexport * from \"./yp-lucky-grid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yp-lucky-grid.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ui-components/yp-luck-draw/yp-lucky-grid.vue\"\nexport default component.exports","export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yp-lucky-grid.vue?vue&type=template&id=273b0d37&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      return _vm.$u.throttle(_vm.checkLuckDraw, 1000)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yp-lucky-grid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yp-lucky-grid.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"prizes\">\r\n\t\t\t<view class=\"prize-item\" v-for=\"(item, index) in gridInfo\" :key=\"index\">\r\n\t\t\t\t<!-- 按钮 -->\r\n\t\t\t\t<view class=\"\" v-if=\"index == 4\" @tap=\"$u.throttle(checkLuckDraw, 1000)\">\r\n\t\t\t\t\t<image :src=\"imgUrl + '/luck-draw-start-but.png'\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 奖品 -->\r\n\t\t\t\t<view v-else>\r\n\t\t\t\t\t<image v-show=\"position != index\" :src=\"imgUrl + '/prize-bg.png'\" mode=\"\"></image>\r\n\t\t\t\t\t<image v-show=\"position == index\" :src=\"imgUrl + '/prize-bg-in.png'\" mode=\"\"></image>\r\n\t\t\t\t\t<view class=\"prize-item-info\">\r\n\t\t\t\t\t\t<image :src=\"item.logo\" mode=\"\"></image>\r\n\t\t\t\t\t\t<view class=\"\">{{ item.text }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisClickBut: true, // 是否可以点击抽奖按钮\r\n\t\t\t\timgUrl: this.config.imgUrl,\r\n\t\t\t\tspeed: 100, // 转动速度\r\n\t\t\t\tposition: 0, // 选中位置，抽奖转动更换背景使用 0-3 5-9\r\n\t\t\t\trunPosition: 0, // 跑圈位置，抽奖转动使用 0-8\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tgridInfo: Array,\r\n\t\t\twinPrizes: Number,\r\n\t\t\tluckDraws: Object\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 开始抽奖\r\n\t\t\tcheckLuckDraw() {\r\n\t\t\t\tif(!this.isClickBut) return\r\n\t\t\t\tthis.isClickBut = false\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\t// 校验是否支持抽奖\r\n\t\t\t\tthis.request({\r\n\t\t\t\t\turl: this.config.luckyDrawJudgment + this.luckDraws.id + '/luckyDrawJudgment',\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif (res.statusCode == 200 && res.data.code == \"200000\") {\r\n\t\t\t\t\t\t// 开始抽奖\r\n\t\t\t\t\t\tthis.startLuckDraw()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isClickBut = true\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.detail,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 抽奖开始\r\n\t\t\tstartLuckDraw() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 获取结果\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.$emit('requestResult', true)\r\n\t\t\t\t}, 1500)\r\n\t\t\t\tthis.isClickBut = false\r\n\t\t\t\t// 开启动作\r\n\t\t\t\tlet start = setInterval(() => {\r\n\t\t\t\t\tthis.start()\r\n\t\t\t\t}, this.speed)\r\n\t\t\t\t// 拉取中奖结果\r\n\t\t\t\tlet getPrize = setInterval(() => {\r\n\t\t\t\t\tif(this.winPrizes != 9999) {\r\n\t\t\t\t\t\tclearInterval(start)\r\n\t\t\t\t\t\tclearInterval(getPrize)\r\n\t\t\t\t\t\t// 寻找停止距离\r\n\t\t\t\t\t\tlet endDistance = 8*3 - this.runPosition + this.winPrizes\r\n\t\t\t\t\t\tlet addStart = setInterval(() => {\r\n\t\t\t\t\t\t\tthis.start()\r\n\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tclearInterval(addStart)\r\n\t\t\t\t\t\t\tthis.speed = 100\r\n\t\t\t\t\t\t\tthis.$emit('getResult', this.gridInfo[this.position])\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t    content: '恭喜抽到：' + that.gridInfo[that.position].text,\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tconfirmText: '知道了',\r\n\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tthat.isClickBut = true\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.winPrizes == 9999\r\n\t\t\t\t\t\t}, endDistance * 200)\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000)\r\n\t\t\t\t// 加速效果\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet speed = setInterval(() => {\r\n\t\t\t\t\t\tthis.speed = this.speed - 30\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tclearInterval(speed)\r\n\t\t\t\t\t}, 2000)\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t// 抽奖动作\r\n\t\t\tstart() {\r\n\t\t\t\tthis.runPosition++\r\n\t\t\t\tswitch(this.runPosition) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tthis.position = 0\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.position = 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.position = 2\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tthis.position = 5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tthis.position = 8\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tthis.position = 7\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\tthis.position = 6\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\tthis.position = 3\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\tthis.runPosition = 0\r\n\t\t\t\t\t\tthis.position = 0\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.prizes {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.prize-item {\r\n\t\tposition: relative;\r\n\t\twidth: 170rpx;\r\n\t\theight: 170rpx;\r\n\t\tmargin: 5rpx;\r\n\t}\r\n\t\r\n\t.prize-item>view>image {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.prize-item-info {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.prize-item-info>image {\r\n\t\tdisplay: block;\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t\tmargin: 30rpx auto 0;\r\n\t}\r\n\t\r\n\t.prize-item-info>view {\r\n\t\twidth: 130rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #F69BAC;\r\n\t\tline-height: 60rpx;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t.item-0 {\r\n\t\t\r\n\t}\r\n\r\n</style>\r\n","import mod from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yp-lucky-grid.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yp-lucky-grid.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680766831286\n      var cssReload = require(\"F:/App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}