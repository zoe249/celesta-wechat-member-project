{"version":3,"sources":["uni-app:///main.js","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/myWallet/walletRecharge/walletRecharge.vue?14ac","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/myWallet/walletRecharge/walletRecharge.vue?2592","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/myWallet/walletRecharge/walletRecharge.vue?8b6c","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/myWallet/walletRecharge/walletRecharge.vue?e05c","uni-app:///pages/myWallet/walletRecharge/walletRecharge.vue","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/myWallet/walletRecharge/walletRecharge.vue?1254","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/myWallet/walletRecharge/walletRecharge.vue?63e2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","memberInfo","choiceIndex","paymentMoney","moneyNum","payments","faceValues","fee","balance","activity","onLoad","methods","getFaveValues","that","url","getBalance","memberId","type","choiceGiftCard","setInput","getSatisfy","savingsAmount","console","getInput","goRecharge","title","icon","uni","success","method","startWeixinPay","timeStamp","nonceStr","package","signType","paySign","fail","cancelOrder"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AAC0K;AAC1K,gBAAgB,mLAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAioB,CAAgB,spBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCkErpB;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC,aACA;QACAC;MACA;QACAA;MACA;QACAA;MACA;QACAA;MACA;QACAA;MACA;QACAA;MACA,EACA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;;IAEA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACAC;QACAC;MACA;QACA;UACAD;YAAA;cAAAN;YAAA;UAAA;UACA;UACAM;UACAA;QACA;UACAA;QACA;MACA;IACA;IACA;IACAE;MACA;MACAF;QACAC;QACAd;UACAgB;UACAC;QACA;MACA;QACA;QACA;UACAjB;YACA;cACAa;YACA;UACA;QACA;MACA;IACA;IACA;IACAK;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACAP;QACAC;QACAd;UACAqB;QACA;MACA;QACAC;QACA;QACA;QACA;UACAtB;UACAa;QACA;UACAA;QACA;MACA;IACA;IACAU;MACAD;MACA;MACA;MACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAE;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACAC;UACAC;QACA;MACA;MACA;MACA;QACA;UACAD;UACAC;QACA;MACA;MACA;MACA;MACA;MACA;MACAC;QACAF;MACA;MACA;MACAE;QACAC;UACAf;UACAA;YACAC,kGACA;YACA;YACAe;UACA;YACAP;YACA;cACAT;cACA;cACAA;YACA;cACAc;cACAA;gBACAF;gBACAC;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAI;MACA;MACA;MACAH;QACAI;QACAC;QACAC;QACAC;QACAC;QACAP;UACAD;UACAA;YACAF;YACAC;UACA;UACAJ;UACA;UACAT;QACA;QACAuB;UACAd;UACAK;UACA;UACAd;QACA;MACA;IACA;IACA;IACAwB;MACA;MACAxB;QACAC;QACAe;MACA;QACA;QACAF;UACAF;UACAC;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtTA;AAAA;AAAA;AAAA;AAA65B,CAAgB,u5BAAG,EAAC,C;;;;;;;;;;;ACAj7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/myWallet/walletRecharge/walletRecharge.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/myWallet/walletRecharge/walletRecharge.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./walletRecharge.vue?vue&type=template&id=ee70d544&\"\nvar renderjs\nimport script from \"./walletRecharge.vue?vue&type=script&lang=js&\"\nexport * from \"./walletRecharge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./walletRecharge.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myWallet/walletRecharge/walletRecharge.vue\"\nexport default component.exports","export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./walletRecharge.vue?vue&type=template&id=ee70d544&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./walletRecharge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./walletRecharge.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 充值 -->\r\n\t\t<view class=\"recharge\">\r\n\t\t\t<!-- 余额 -->\r\n\t\t\t<view class=\"balance\">\r\n\t\t\t\t<view>钱包余额</view>\r\n\t\t\t\t<view>¥ {{ balance }}</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 充值方案 -->\r\n\t\t\t<view class=\"electronic-card\">\r\n\t\t\t\t<view class=\"electronic-card-title\">请选择充值金额</view>\r\n\t\t\t\t<view class=\"face-value\">\r\n\t\t\t\t\t<view :class=\" choiceIndex == index + 1 ? 'gift choice' : 'gift'\" v-for=\"(item, index) in faceValues\" :key=\"index\" @click=\"choiceGiftCard(item, index)\">¥{{ item.fee }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"other-face-value\">\r\n\t\t\t\t\t<view>其他面值</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t¥\r\n\t\t\t\t\t\t<input class=\"other-input\" v-model=\"moneyNum\" type=\"number\" maxlength=\"4\" placeholder=\"输入1-1000的整数\" @focus=\"getInput\" @input=\"setInput\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 充值活动规则 -->\r\n\t\t<view class=\"recharge-rule\" v-if=\"activity.id\">\r\n\t\t\t<view class=\"rule-title\">{{ activity.name }}</view>\r\n\t\t\t<view class=\"rule-text\" v-for=\"(item, index) in activity.ruleDescriptionArray\">{{ item }}</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 充值规则 -->\r\n\t\t<view class=\"recharge-rule\" v-else>\r\n\t\t\t<view class=\"rule-title\">钱包充值规则</view>\r\n\t\t\t<view class=\"rule-text\">1. 充值金额可购买门店线上线下商品；</view>\r\n\t\t\t<view class=\"rule-text\">2. 充值金额不计利息，不可提现，退款和转赠；</view>\r\n\t\t\t<view class=\"rule-text\">3. 单笔充值上限1000元，充值成功后，您的充值金额将会实时充值您的包账户；</view>\r\n\t\t\t<view class=\"rule-text\">4. 使用钱包余额购买的订单，退换货订单产生的退款将返回钱包余额；</view>\r\n\t\t\t<view class=\"rule-text\">5. 余额有效期：永久有效；</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 隔离层 -->\r\n\t\t<view class=\"quarantine\"></view>\r\n\t\t\r\n\t\t<!-- 赠送规则 -->\r\n\t\t<view class=\"give\" v-if=\"activity.id\">\r\n\t\t\t<view class=\"gift-rules\">\r\n\t\t\t\t<image src=\"../../../static/goods/gift-rules-icon.png\" mode=\"\"></image>\r\n\t\t\t\t<view v-if=\"activity.savingsActivityPrize[0].prizeType == 1\">充{{ activity.savingsActivityPrize[0].savingsAmount }}元送{{ activity.savingsActivityPrize[0].givenAmount }}元</view>\r\n\t\t\t\t<view v-else>充{{ activity.savingsActivityPrize[0].savingsAmount }}元送{{ activity.savingsActivityPrize[0].couponTemplateName }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部操作栏 -->\r\n\t\t<view class=\"navigation\">\r\n\t\t\t<view class=\"recharge-money\">\r\n\t\t\t\t<view>充值金额</view>\r\n\t\t\t\t<view>￥{{ paymentMoney }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"navigation-but\" @click=\"goRecharge\">立即充值</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmemberInfo: uni.getStorageSync('memberInfo'),\r\n\t\t\t\tchoiceIndex: 1, // 选择面值第几个\r\n\t\t\t\tpaymentMoney: 0, // 需要支付的金额\r\n\t\t\t\tmoneyNum: '', // 其他金额\r\n\t\t\t\tpayments: {}, // 支付参数\r\n\t\t\t\tfaceValues: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfee: 100,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tfee: 200,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tfee: 300,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tfee: 500,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tfee: 800,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tfee: 1000,\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tbalance: '', // 余额\r\n\t\t\t\tactivity: {}, // 满足充值的活动\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 小程序查询充值金额\r\n\t\t\tthis.getFaveValues()\r\n\t\t\t// 获取余额\r\n\t\t\tthis.getBalance()\r\n\t\t\t\r\n\t\t\t// 查询满足充值的活动\r\n\t\t\tthis.getSatisfy()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 小程序查询充值金额\r\n\t\t\tgetFaveValues(){\r\n\t\t\t\tlet that = this \r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.getFaveValues,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.data.data.length && res.data.data.length > 0){\r\n\t\t\t\t\t\tthat.faceValues = res.data.data.map(item => ({fee: item}))\r\n\t\t\t\t\t\t// 需要支付的金额\r\n\t\t\t\t\t\tthat.paymentMoney = that.faceValues[0].fee\r\n\t\t\t\t\t\tthat.getSatisfy()\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tthat.faceValues = []\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取余额\r\n\t\t\tgetBalance() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pointTypes,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmemberId: that.memberInfo.id,\r\n\t\t\t\t\t\ttype: '03'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\t\t\tif(item.type == '03') {\r\n\t\t\t\t\t\t\t\tthat.balance = item.balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择礼品卡\r\n\t\t\tchoiceGiftCard(event, index) {\r\n\t\t\t\tthis.paymentMoney = Number(event.fee)\r\n\t\t\t\tthis.faceValue = Number(event.fee)\r\n\t\t\t\tthis.choiceIndex = index + 1\r\n\t\t\t\t// 查询满足充值的活动\r\n\t\t\t\tthis.getSatisfy()\r\n\t\t\t},\r\n\t\t\t// 其他金额输入\r\n\t\t\tsetInput(event) {\r\n\t\t\t\tlet value = event.detail.value\r\n\t\t\t\tif(value.length <= 0) {\r\n\t\t\t\t\tthis.paymentMoney = 0\r\n\t\t\t\t\treturn \r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.moneyNum = event.detail.value\r\n\t\t\t\t\tthis.paymentMoney = Number(event.detail.value)\r\n\t\t\t\t\t// 查询满足充值的活动\r\n\t\t\t\t\tthis.getSatisfy()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 查询满足充值的活动 \r\n\t\t\tgetSatisfy() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.getSatisfy,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsavingsAmount: that.paymentMoney\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.statusCode != 200) return\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tif(data.id != null) {\r\n\t\t\t\t\t\tdata.ruleDescriptionArray = data.ruleDescription.split('\\n')\r\n\t\t\t\t\t\tthat.activity = data\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.activity = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetInput() {\r\n\t\t\t\tconsole.log(this.moneyNum);\r\n\t\t\t\tthis.paymentMoney = Number(this.moneyNum)\r\n\t\t\t\t// 查询满足充值的活动\r\n\t\t\t\tthis.getSatisfy()\r\n\t\t\t\tthis.choiceIndex = 0\r\n\t\t\t},\r\n\t\t\t// // 校验充值上限\r\n\t\t\t// goRecharge() {\r\n\t\t\t// \tlet that = this\r\n\t\t\t// \tthat.request({\r\n\t\t\t// \t\turl: that.config.getRechargeLimit,\r\n\t\t\t// \t}).then(res => {\r\n\t\t\t// \t\tconsole.log(res);\r\n\t\t\t// \t\tif(res.statusCode == 200) {\r\n\t\t\t// \t\t\tlet data = res.data\r\n\t\t\t// \t\t\tif(data.singleAmount != null && ( Number(that.paymentMoney) > Number(data.singleAmount) )) {\r\n\t\t\t// \t\t\t\treturn uni.showToast({\r\n\t\t\t// \t\t\t\t\ttitle: '充值金额上限' + data.singleAmount + '元',\r\n\t\t\t// \t\t\t\t\ticon: 'none'\r\n\t\t\t// \t\t\t\t})\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\t// 充值\r\n\t\t\t// \t\t\t\tthat.getRecharge()\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t} else {\r\n\t\t\t// \t\t\tuni.showToast({\r\n\t\t\t// \t\t\t\ttitle: res.data.detail,\r\n\t\t\t// \t\t\t\ticon: 'none'\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t\t// },\r\n\t\t\t// 充值\r\n\t\t\tgoRecharge() {\r\n\t\t\t\t// if(this.paymentMoney <= 0 ) {\r\n\t\t\t\t// \treturn uni.showToast({\r\n\t\t\t\t// \t\ttitle: '充值金额必须大于0元',\r\n\t\t\t\t// \t\ticon: 'none'\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }\r\n\t\t\t\tif(this.paymentMoney < 1 || this.paymentMoney > 1000 ) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '充值金额仅限1 ~ 1000元',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tconst regNumber = /^[0-9]*$/\r\n\t\t\t\tif(!regNumber.test(Number(this.paymentMoney))){\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入1-1000的整数',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// 价格\r\n\t\t\t\tlet companyCode = this.config.companyCode\r\n\t\t\t\tlet attach = uni.getStorageSync('memberInfo').id + ',' + companyCode.organizationCode + ',' + companyCode.channelCode + ',' + companyCode.terminalCode \r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t})\r\n\t\t\t\t// 获取支付参数\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthat.code = res.code\r\n\t\t\t\t\t\tthat.request({\r\n\t\t\t\t\t\t\turl: that.config.getWechatPay + '?code=' + res.code + '&detail=' + '钱包充值' + '&attach=' + attach +\r\n\t\t\t\t\t\t\t\t'&body=钱包充值&price=' + that.paymentMoney + '&quantity=1' + '&type=' + '03',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// that.paymentMoney\r\n\t\t\t\t\t\t\tmethod: 'POST'\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tif(res.statusCode == 200) {\r\n\t\t\t\t\t\t\t\tthat.payments = res.data\r\n\t\t\t\t\t\t\t\t// 调用微信支付\r\n\t\t\t\t\t\t\t\tthat.startWeixinPay()\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.hideLoading() // 取消加载中\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.data.detail,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 调用微信支付\r\n\t\t\tstartWeixinPay() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet payment = that.payments\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\ttimeStamp: payment.timeStamp,\r\n\t\t\t\t\tnonceStr: payment.nonceStr,\r\n\t\t\t\t\tpackage: payment.package,\r\n\t\t\t\t\tsignType: payment.signType,\r\n\t\t\t\t\tpaySign: payment.paySign,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.hideLoading() // 取消加载中\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log('支付成功', res);\r\n\t\t\t\t\t\t// 获取余额\r\n\t\t\t\t\t\tthat.getBalance()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tuni.hideLoading() // 取消加载中\r\n\t\t\t\t\t\t// 支付失败调用取消订单\r\n\t\t\t\t\t\tthat.cancelOrder()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 支付失败调用取消订单\r\n\t\t\tcancelOrder() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.cancelOrder + that.payments.orderId,\r\n\t\t\t\t\tmethod: 'DELETE'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// 取消订单\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* 充值 start */\r\n\t.recharge {\r\n\t\twidth: 100%;\r\n\t\t/* height: 500rpx; */\r\n\t\tpadding-top: 20rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t\r\n\t.balance {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\theight: 100rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbackground-color: #333333;\r\n\t\tborder-radius: 20rpx 20rpx 0 0;\r\n\t}\r\n\t\r\n\t.balance>view:nth-child(1) {\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tcolor: #E6B991;\r\n\t}\r\n\t\r\n\t.balance>view:nth-child(2) {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 600;\r\n\t\tline-height: 100rpx;\r\n\t\tcolor: #DDB28C;\r\n\t}\r\n\t\r\n\t/* 充值 end */\r\n\t\r\n\t/* 充值方案 start */\r\n\t.electronic-card {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t\r\n\t.electronic-card-title {\r\n\t\tmargin: 0 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.face-value {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 710rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\t\r\n\t.face-value>view {\r\n\t\twidth: calc(33.3% - 15rpx);\r\n\t\theight: 100rpx;\r\n\t\tmargin: 7rpx 5rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tcolor: #666666;\r\n\t\tbackground: #EEEEEE;\r\n\t\tborder: 2rpx solid #DDDDDD;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\t\r\n\t.gift.choice {\r\n\t\tcolor: #ED6D46;\r\n\t\tbackground: rgba(255, 103, 68, 0.1);\r\n\t\tborder: 2rpx solid #FF6744;\r\n\t}\r\n\t\r\n\t.other-face-value {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 0 20rpx;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.other-face-value>view:nth-child(2) {\r\n\t\tdisplay: flex;\r\n\t\twidth: 280rpx;\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t\r\n\t.other-face-value>view:nth-child(2) .other-input {\r\n\t\theight: 100rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: 400;\r\n\t\tline-height: 100rpx;\r\n\t}\r\n\t\r\n\t/* 充值方案 end */\r\n\t\r\n\t/* 充值规则 start */\r\n\t.recharge-rule {\r\n\t\tmargin: 20rpx 20rpx 0;\r\n\t\theight: 300rpx;\r\n\t}\r\n\t\r\n\t.rule-title {\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.rule-text {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 40rpx;\r\n\t}\r\n\t\r\n\t.quarantine {\r\n\t\theight: 220rpx;\r\n\t\tpadding-bottom: 0;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\t\r\n\t/* 充值规则 end */\r\n\t\r\n\t/* 赠送规则 start */\r\n\t.give {\r\n\t\tposition: fixed;\r\n\t\tbottom: 120rpx;\r\n\t\twidth: 100%;\r\n\t\tpadding-bottom: 0;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\t\r\n\t.gift-rules {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: 60rpx;\r\n\t\tbackground-color: #FDF0EC;\r\n\t}\r\n\t\r\n\t.gift-rules>image {\r\n\t\twidth: 24rpx;\r\n\t\theight: 26rpx;\r\n\t\tmargin: 17rpx 20rpx;\r\n\t}\r\n\t\r\n\t.gift-rules>view {\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 400;\r\n\t\tline-height: 60rpx;\r\n\t\tcolor: #ED6D46;\r\n\t}\r\n\t\r\n\t/* 赠送规则 end */\r\n\t\r\n\t/* 底部操作栏 start */\r\n\t.navigation {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 710rpx;\r\n\t\theight: 120rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding-bottom: 0;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\t\r\n\t.recharge-money {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 20rpx;\r\n\t\tline-height: 120rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.recharge-money>view:nth-child(2) {\r\n\t\tmargin-left: 15rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tline-height: 120rpx;\r\n\t}\r\n\t\r\n\t.navigation-but {\r\n\t\twidth: 240rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin: 30rpx 0;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #FFFFFF;\r\n\t\tline-height: 60rpx;\r\n\t\tbackground: #ED6D46;\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\t\r\n\t/* 底部操作栏 end */\r\n\r\n</style>\r\n","import mod from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./walletRecharge.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./walletRecharge.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680766828739\n      var cssReload = require(\"F:/App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}