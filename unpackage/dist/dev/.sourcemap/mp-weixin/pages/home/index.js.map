{"version":3,"sources":["uni-app:///main.js","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/home/index.vue?450d","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/home/index.vue?a6ed","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/home/index.vue?2c20","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/home/index.vue?beda","uni-app:///pages/home/index.vue","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/home/index.vue?4e34","webpack:///G:/代码-项目/悦朋/uniapp/O2O/悦朋微会员/celesta-wechat-member-project/pages/home/index.vue?0352"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","ypLoading","ypRoleInfo","ypMemberCard","ypRightsInterests","ypToolServices","ypCopyright","data","isUserCode","isUserCodes","isAdvertisement","background","backgroundImage","memberInfo","qrUrl","cardGradeList","memberCards","integral","balance","giftCard","coupon","services","servicesList","serviceStyle","swiperList","popupList","toolServices","toolStyle","edition","imgUrl","onLoad","onShow","onPullDownRefresh","setTimeout","uni","methods","memberUser","that","request","url","then","getServicesStyle","status","site","console","getPictureList","cardlevel","growthValue","getToolStyle","getSlideshows","displayed","getPopupAdvertisement","pointTypes","memberId","type","valid","cardLevelDataDics","pageSize","pageIndex","memberGrade","getGrowthValue","memberCardInfor","memberCurrent","codePopup","getQR","getTki","success","codeWidth","Tki","cardSwitch","cardLevel","bannerJump","goGoodsPage","goJump","appId","path","refreshEnvironment","isSignInOpen","mask","isLuckDrawOpen","personalData","goIntegral","goMyWallet","goGiftCard","goMyCoupon","timeDay"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC0K;AAC1K,gBAAgB,mLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAwnB,CAAgB,6oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC0H5oB;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QAAA;QACAA;QACAC;QACAC;QACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA,YACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MAAA;MACAf;MACAC;MACAC;MACAC;IACA;IACA;IAAA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAa;MACAC;IACA;EACA;EACAC;IACA;IACAC;MAAA;MACA;MACAC;MACAA,KACAC;QACAC;MACA,GACAC;QACAH;QACA;QACA;QACA;QACAH;QACA;MACA;IACA;IACA;IACAO;MAAA;MACA;MACA;MACAJ;QACAE;QACAhC;UACAmC;UACAC;QACA;MACA;QAEA;QACAC;QACA;QACAP;QACAO;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACAR;QACAE;QACAhC;UACAuC;UAAA;UACAH;QACA;MACA;QACA;QACA;QACAN;MACA;IACA;IACA;IACAU;MACAb;QACAK;MACA;IACA;IACA;IACAS;MACA;MACA;MACAX;QACAE;QACAhC;UACAmC;UACAC;QACA;MACA;QACA;QACA;QACAN;MACA;MACA;MACAA;QACAE;QACAhC;UACAuC;UAAA;UACAH;QACA;MACA;QACA;QACA;QACAN;MACA;IACA;IACA;IACAY;MACA;MACAZ;QACAE;QACAhC;UACA2C;UACAP;QACA;MACA;QACA;QACA;UACA;YACApC;UACA;UACA8B;QACA;MACA;IACA;IACA;IACAc;MACA;MACAd;QACAE;QACAhC;UACA2C;UACAP;QACA;MACA;QACA;QACA;UACAN;UACA;YACAA;UACA;QACA;MACA;IACA;IACA;IACAe;MACA;MACA;MACAf;QACAE;QACAhC;UACA8C;UACAC;QACA;MACA;QACA;QACA;UACA/C;YACA;cACA8B;YACA;UACA;QACA;MACA;MACA;MACAA;QACAE;QACAhC;UACA8C;UACAC;QACA;MACA;QACA;QACA;UACA/C;YACA;cACA8B;YACA;UACA;QACA;MACA;MACA;MACAA;QACAE;QACAhC;UACAgD;QACA;MACA;QACA;QACA;UACAlB;QACA;MACA;MACA;MACAA;QACAE;MACA;QACA;QACA;UACAF;QACA;MACA;IACA;IACA;IACAmB;MACA;MACAnB;QACAE;QACAhC;UACAmC;UACAe;UACAC;QACA;MACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACArB;UACA;UACAsB;QACA;MACA;MACA;QACAtB;UACAE;QACA;UACA;UACA;UACAF;QACA;MACA;IACA;IACA;IACAuB;MACA;MACAvB;QACAE;QACAhC;UACA8C;UACAC;QACA;MACA;QACA;QACA/C;UACA;YACA8B;cACAwB;cACAC;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA1B;MACAA;MACAJ;QACA;QACAI;QACA;QACAA;MACA;IACA;IACA;IACA2B;MACA;IACA;IACA;IACAC;MACA;MACA;MACA/B;QACAgC;UACAC;UACAC;UACA;UACAnC;YACAI;YACAA;UACA;QACA;MACA;IACA;IACA;IACAgC;MACA;MACA;QACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MAAA,CAEA;MAAA,CAEA;MAAA;IAGA;IACA;IACAC;MACA;MAAA,CAEA;MAAA,CAEA;MAAA;IAGA;IACA;IACAC;MACA;AACA;AACA;AACA;AACA;;MAEA;MACA;MACA;QACA;QACA;UACAvC;YACAwC;YAAA;YACAC;UACA;QACA;;QACA;QACA;UACAzC;YACAK;UACA;QACA;QACA;QACA;UACAL;YACAK;UACA;QACA;QACA;QACA;UACAL;YACAK;UACA;QACA;QACA;QACA;UACAL;YACAK;UACA;QACA;QACA;QACA;UACA;UACAF;QACA;QACA;QACA;UACA;UACAA;QACA;QACA;QACA;UACAH;YACAK;UACA;QACA;MACA;MACA;MACA;QACA;MACA;MACAqC;IACA;IACA;IACAC;MACA;MACA3C;QACA4C;MACA;MACAzC;QACAE;MACA;QACAK;QACAV;QACA;QACA;QACA;UACAA;YACAK;UACA;QACA;UACAL;YACAK;UACA;QACA;MACA;IACA;IACA;IACAwC;MACA;MACA7C;QACA4C;MACA;MACAzC;QACAE;MACA;QACAK;QACAV;QACA;QACA;QACA;QACA;UACAA;YACAK;UACA;QACA;UACAL;YACAK;UACA;QACA;UACAL;YACAK;UACA;QACA;MACA;IACA;IACA;IACAyC;MACA9C;QACAK;MACA;IACA;IACA;IACA0C;MACA/C;QACAK;MACA;IACA;IACA;IACA2C;MACAhD;QACAK;MACA;IACA;IACA;IACA4C;MACAjD;QACAK;MACA;IACA;IACA;IACA6C;MACAlD;QACAK;MACA;IACA;IACA;IACA8C;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1qBA;AAAA;AAAA;AAAA;AAA+sC,CAAgB,4qCAAG,EAAC,C;;;;;;;;;;;ACAnuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/home/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=71e217db&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71e217db&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71e217db\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/index.vue\"\nexport default component.exports","export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=71e217db&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uSwiper: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-swiper/u-swiper\" */ \"@/uview-ui/components/u-swiper/u-swiper.vue\"\n      )\n    },\n    uMask: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-mask/u-mask\" */ \"@/uview-ui/components/u-mask/u-mask.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    ypLoading: function () {\n      return import(\n        /* webpackChunkName: \"components/yp-loading/yp-loading\" */ \"@/components/yp-loading/yp-loading.vue\"\n      )\n    },\n    uNoNetwork: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-no-network/u-no-network\" */ \"@/uview-ui/components/u-no-network/u-no-network.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.services.length\n  var g1 = _vm.swiperList.length\n  var g2 = _vm.toolServices.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isAdvertisement = false\n    }\n    _vm.e1 = function ($event) {\n      ;(_vm.isUserCode = false), (_vm.isUserCodes = true)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 头部 -->\r\n\t\t<u-navbar title=\"会员中心\" :is-back=\"false\" :background=\"background\" title-color=\"#ffffff\" title-size=\"35\"></u-navbar>\r\n\r\n\t\t<!-- 下拉加载窗 -->\r\n\t\t<view class=\"loading-icon-text\">\r\n\t\t\t<image class=\"loadingImg\" src=\"../../static/home/cloue.png\"></image>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"header\">\r\n\t\t\t<!-- 会员角色信息 -->\r\n\t\t\t<view class=\"role-info\">\r\n\t\t\t\t<yp-role-info :role=\"memberInfo\" @change=\"personalData\" @codePopup=\"codePopup\"></yp-role-info>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 会员卡 -->\r\n\t\t<view class=\"member\">\r\n\t\t\t<yp-member-card :cardList=\"cardGradeList\" :memberCard=\"memberCards\" @change=\"cardSwitch\" @growthValue=\"growthValue\"></yp-member-card>\r\n\t\t</view>\r\n\r\n\t\t<!-- 隔离层 -->\r\n\t\t<!-- <view style=\"height: 190rpx;\"></view> -->\r\n\r\n\t\t<!-- 积分、余额、礼品卡、优惠券 -->\r\n\t\t<view class=\"integral\">\r\n\t\t\t<!-- 左 -->\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view class=\"integral-item\" @click=\"goIntegral\">\r\n\t\t\t\t\t<view class=\"integral-top\">{{ integral.integral }}</view>\r\n\t\t\t\t\t<view class=\"integral-botton\">积分</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"integral-item\" @click=\"goMyWallet\">\r\n\t\t\t\t\t<view class=\"integral-top\">¥ {{ integral.balance }}</view>\r\n\t\t\t\t\t<view class=\"integral-botton\">余额</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 显示会员码 -->\r\n\t\t\t<view class=\"center\">\r\n\t\t\t\t<view class=\"integral-center-icon\" @click=\"codePopup\">\r\n\t\t\t\t\t<u-icon :name=\"imgUrl + '/shoV8H.png'\" color=\"#ffffff\" size=\"50\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 右 -->\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<view class=\"integral-item\" @click=\"goGiftCard\">\r\n\t\t\t\t\t<view class=\"integral-top\">{{ integral.giftCard }}</view>\r\n\t\t\t\t\t<view class=\"integral-botton\">礼品卡</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"integral-item\" @click=\"goMyCoupon\">\r\n\t\t\t\t\t<view class=\"integral-top\">{{ integral.coupon }}</view>\r\n\t\t\t\t\t<view class=\"integral-botton\">优惠券</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 会员权益 -->\r\n\t\t<view class=\"service\" v-if=\"services.length != 0\">\r\n\t\t\t<yp-rights-interests :services=\"services\" :serviceStyle=\"serviceStyle\"></yp-rights-interests>\r\n\t\t</view>\r\n\r\n\t\t<!-- 广告banner -->\r\n\t\t<view class=\"swiper-box\" v-if=\"swiperList.length != 0\">\r\n\t\t\t<u-swiper class=\"swiper-image\" :list=\"swiperList\" height=\"350\" mode=\"round\" indicator-pos=\"bottomLeft\" @click=\"bannerJump\"></u-swiper>\r\n\t\t</view>\r\n\r\n\t\t<!-- 跳转入口 -->\r\n\t\t<view class=\"setup-tool\" v-if=\"toolServices.length != 0\">\r\n\t\t\t<yp-tool-services :services=\"toolServices\" :serviceStyle=\"toolStyle\" @change=\"goJump\"></yp-tool-services>\r\n\t\t</view>\r\n\r\n\t\t<!-- 弹出层 -->\r\n\t\t<!-- 广告 -->\r\n\t\t<u-mask :show=\"isAdvertisement\" :mask-click-able=\"false\">\r\n\t\t\t<view class=\"couponPop\">\r\n\t\t\t\t<view class=\"couponPopView\">\r\n\t\t\t\t\t<image @click=\"goGoodsPage(popupList[0])\" :src=\"popupList[0].pictureUrl\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"dvertisement-close\">\r\n\t\t\t\t\t<u-icon name=\"close-circle\" color=\"#c2c2c2\" size=\"60\" @click=\"isAdvertisement = false\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-mask>\r\n\r\n\t\t<!-- 用户二维码/条形码 -->\r\n\t\t<u-popup v-model=\"isUserCode\" mode=\"bottom\" :closeable=\"true\" :mask-close-able=\"true\" @close=\"isUserCode = false, isUserCodes = true\">\r\n\t\t\t<view class=\"userCode\">\r\n\t\t\t\t<view class=\"popup\">\r\n\t\t\t\t\t<view class=\"bar-code\" v-if=\"isUserCode\">\r\n\t\t\t\t\t\t<view class=\"bar-code-code\">\r\n\t\t\t\t\t\t\t<canvas class=\"bar_code\" canvas-id=\"brcode\"></canvas>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"bar-code-num\">{{ memberInfo.cardNumber }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"qr-code\" v-if=\"isUserCode\">\r\n\t\t\t\t\t\t<image :src=\"qrUrl\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 加载 -->\r\n\t\t\t\t<view v-if=\"isUserCodes\" class=\"userCodeMask\">\r\n\t\t\t\t\t<yp-loading ref=\"loading\" :type=\"2\"></yp-loading>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\r\n\t\t<!-- 版权 -->\r\n\t\t<yp-copyright :edition=\"edition\"></yp-copyright>\r\n\r\n\t\t<!-- 无网络提示 -->\r\n\t\t<u-no-network></u-no-network>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport ypLoading from '@/components/yp-loading/yp-loading.vue'\r\n\timport ypRoleInfo from '@/components/ui-components/yp-role-info/yp-role-info.vue'\r\n\timport ypMemberCard from '@/components/ui-components/yp-member-card/yp-member-card.vue'\r\n\timport ypRightsInterests from '@/components/ui-components/yp-rights-interests/yp-rights-interests.vue'\r\n\timport ypToolServices from '@/components/ui-components/yp-tool-services/yp-tool-services.vue'\r\n\timport ypCopyright from '@/components/ui-components/yp-copyright/yp-copyright.vue'\r\n\timport Qr from '@/utils/qr-code.js'\r\n\timport Tki from \"@/utils/tki-barcode.js\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\typLoading,\r\n\t\t\typRoleInfo,\r\n\t\t\typMemberCard,\r\n\t\t\typRightsInterests,\r\n\t\t\typToolServices,\r\n\t\t\typCopyright,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisUserCode: false, // 是否显示会员二维码/条形码\r\n\t\t\t\tisUserCodes: true, // 是否显示会员二维码/条形码\r\n\t\t\t\tisAdvertisement: false, // 是否显示弹出层广告\r\n\t\t\t\tbackground: {\r\n\t\t\t\t\tbackgroundImage: 'linear-gradient(to right, #EBAE93, #E6907A)'\r\n\t\t\t\t},\r\n\t\t\t\tmemberInfo: {}, // 会员信息\r\n\t\t\t\tqrUrl: '', // 会员二维码路径\r\n\t\t\t\tcardGradeList: [], // 会员卡等级列表\n\t\t\t\tmemberCards: {}, // 用户会员信息\r\n\t\t\t\tintegral: { // 积分信息\r\n\t\t\t\t\tintegral: '0',\r\n\t\t\t\t\tbalance: '0.00',\r\n\t\t\t\t\tgiftCard: '0',\r\n\t\t\t\t\tcoupon: '0'\r\n\t\t\t\t},\r\n\t\t\t\tservices: [], // 权益列表\r\n\t\t\t\tservicesList: [], // 等级支持权益列表\r\n\t\t\t\tserviceStyle: {}, // 权益样式\r\n\t\t\t\tswiperList: [], // 广告banner\r\n\t\t\t\tpopupList: [], // 弹出层广告\r\n\t\t\t\ttoolServices: [], // 设置列表\r\n\t\t\t\ttoolStyle: {}, // 跳转入口样式\r\n\t\t\t\tedition: '', // 版本\r\n\t\t\t\t\r\n\t\t\t\timgUrl: this.config.imgUrl,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 获取广告\r\n\t\t\tthis.getSlideshows()\r\n\t\t\tthis.getPopupAdvertisement()\r\n\t\t\t// 获取会员权益\r\n\t\t\tthis.getServicesStyle()\r\n\t\t\t// 获取跳转设置\r\n\t\t\tthis.getToolStyle()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 查询会员积分/礼品卡\r\n\t\t\tthis.pointTypes()\n\t\t\t// 获取数据字典 (会员卡)\n\t\t\tthis.cardLevelDataDics()\r\n\t\t\t// 更新本地缓存中的会员信息\r\n\t\t\tthis.memberUser()\r\n\t\t},\r\n\t\t/* 下拉刷新停止 */\r\n\t\tonPullDownRefresh() {\r\n\t\t\t// 重置\r\n\t\t\tthis.cardGradeList = [] // 会员卡等级列表\r\n\t\t\tthis.services = [] // 权益列表\r\n\t\t\tthis.serviceStyle = {} // 权益样式\r\n\t\t\tthis.swiperList = [] // 广告banner\r\n\t\t\tthis.popupList = [] // 弹出层广告\r\n\t\t\tthis.toolServices = [] // 设置列表\r\n\t\t\tthis.toolStyle = {} // 跳转入口样式\r\n\t\t\tthis.integral = { // 积分信息\r\n\t\t\t\tintegral: '0',\r\n\t\t\t\tbalance: '0.00',\r\n\t\t\t\tgiftCard: '0',\r\n\t\t\t\tcoupon: '0'\r\n\t\t\t}\n\t\t\tthis.memberCards = {}, // 用户会员信息\r\n\r\n\t\t\t// 获取广告\r\n\t\t\tthis.getSlideshows()\r\n\t\t\t// 获取会员权益\r\n\t\t\tthis.getServicesStyle()\r\n\t\t\t// 获取跳转设置\r\n\t\t\tthis.getToolStyle()\r\n\t\t\t// 获取数据字典\r\n\t\t\tthis.cardLevelDataDics()\r\n\t\t\t// 查询会员积分/礼品卡\r\n\t\t\tthis.pointTypes()\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t}, 1000)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取用户会员信息\r\n\t\t\tmemberUser() {\r\n\t\t\t  let that = this;\r\n\t\t\t  that.$refs.loading.open();\r\n\t\t\t  that\r\n\t\t\t    .request({\r\n\t\t\t      url: that.config.memberUser,\r\n\t\t\t    })\r\n\t\t\t    .then((res) => {\r\n\t\t\t      that.$refs.loading.close();\r\n\t\t\t      if (res.statusCode != 200) return;\r\n\t\t\t      // 缓存用户信息\r\n\t\t\t      // console.log(\"获取用户的会员信息\", res.data);\r\n\t\t\t      uni.setStorageSync(\"memberInfo\", res.data);\r\n\t\t\t\t\t\tthis.memberInfo = res.data\r\n\t\t\t    });\r\n\t\t\t},\n\t\t\t// 会员权益\r\n\t\t\tgetServicesStyle() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 获取会员权益样式\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pictureNavigations,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tstatus: true,\r\n\t\t\t\t\t\tsite: '01'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\r\n\t\t\t\t\tif (res.statusCode != 200) return\r\n\t\t\t\t\t console.log('--------------',res.data)\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tthat.serviceStyle = data[0]\r\n\t\t\t\t\tconsole.log('获取会员权益')\n\t\t\t\t\t// 获取会员权益列表\n\t\t\t\t\tthis.getPictureList(that.memberInfo.cardLevelCode)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取会员权益列表\r\n\t\t\tgetPictureList(cardLevelCode) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pictureList,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcardlevel: cardLevelCode, // 01  02  03\r\n\t\t\t\t\t\tsite: '01'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.statusCode != 200) return\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tthat.services = data\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t// 成长值\n\t\t\tgrowthValue() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../growthValue/growthValue'\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t// 跳转设置\r\n\t\t\tgetToolStyle() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 获取跳转设样式\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pictureNavigations,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tstatus: true,\r\n\t\t\t\t\t\tsite: '02'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.statusCode != 200) return\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tthat.toolStyle = data[0]\r\n\t\t\t\t})\r\n\t\t\t\t// 获取跳转列表\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pictureList,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcardlevel: '01', // 01  02  03\r\n\t\t\t\t\t\tsite: '02'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.statusCode != 200) return\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tthat.toolServices = data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取广告 首页轮播\r\n\t\t\tgetSlideshows() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.slideshows,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdisplayed: true,\r\n\t\t\t\t\t\tsite: '2'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet data = res.data.data\r\n\t\t\t\t\tif (res.statusCode == 200 && data.length != 0) {\r\n\t\t\t\t\t\tfor (let i in data) {\r\n\t\t\t\t\t\t\tdata[i].image = data[i].pictureUrl\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.swiperList = data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 弹出层 广告\r\n\t\t\tgetPopupAdvertisement() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.slideshows,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdisplayed: true,\r\n\t\t\t\t\t\tsite: '1'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet data = res.data.data\r\n\t\t\t\t\tif (res.statusCode == 200 && data.length != 0) {\r\n\t\t\t\t\t\tthat.popupList = data\r\n\t\t\t\t\t\tif (data[0].pictureUrl) {\r\n\t\t\t\t\t\t\tthat.isAdvertisement = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 查询会员积分/礼品卡\r\n\t\t\tpointTypes() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 积分\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pointTypes,\r\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmemberId: that.memberInfo.id,\r\n\t\t\t\t\t\ttype: '01'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet data = res.data\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\t\t\tif(item.type == '01') {\n\t\t\t\t\t\t\t\tthat.integral.integral = item.balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 余额\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.pointTypes,\r\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmemberId: that.memberInfo.id,\r\n\t\t\t\t\t\ttype: '03'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet data = res.data\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\t\t\tif(item.type == '03') {\n\t\t\t\t\t\t\t\tthat.integral.balance = item.balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 礼品卡\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.myGiftCards,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\tthat.integral.giftCard = data.total\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 优惠券\r\n\t\t\t\tthat.request({\r\n\t\t\t\t\turl: that.config.couponNum,\r\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\tthat.integral.coupon = data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取会员卡等级列表数据字典\r\n\t\t\tcardLevelDataDics() {\r\n\t\t\t\tlet that = this\n\t\t\t\tthat.request({\n\t\t\t\t\turl: that.config.memberLevels,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstatus: true,\n\t\t\t\t\t\tpageSize: '200',\n\t\t\t\t\t\tpageIndex: 1\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet data = res.data.data\n\t\t\t\t\tif (res.statusCode == 200 && data.length >= 1) {\n\t\t\t\t\t\t// 会员等级排序\n\t\t\t\t\t\t// let cardGradeList = []\n\t\t\t\t\t\t// cardGradeList[0] = data[0]\n\t\t\t\t\t\t// data.forEach((value, index) => {\n\t\t\t\t\t\t// \tif (!data[index + 1]) return\n\t\t\t\t\t\t// \tif (cardGradeList[index].code < data[index + 1].code) {\n\t\t\t\t\t\t// \t\tcardGradeList.push(data[index + 1])\n\t\t\t\t\t\t// \t} else {\n\t\t\t\t\t\t// \t\tcardGradeList.splice(index, 0, data[index + 1])\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// })\n\t\t\t\t\t\tthat.cardGradeList = data\n\t\t\t\t\t\t// 会员等级显示\n\t\t\t\t\t\tmemberGrade()\n\t\t\t\t\t}\n\t\t\t\t})\r\n\t\t\t\tfunction memberGrade() {\n\t\t\t\t\tthat.request({\r\n\t\t\t\t\t\turl: that.config.memberCurrent\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tif (res.statusCode != 200) return\r\n\t\t\t\t\t\tlet data = res.data\n\t\t\t\t\t\tthat.getGrowthValue(data)\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t\t// 获取成长值明细\n\t\t\tgetGrowthValue(memberCurrent) {\n\t\t\t\tlet that = this\n\t\t\t\tthat.request({\n\t\t\t\t\turl: that.config.pointTypes,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmemberId: that.memberInfo.id,\n\t\t\t\t\t\ttype: '02'\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet data = res.data\n\t\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\t\tif(item.type == '02') {\n\t\t\t\t\t\t\tthat.memberCards = {\n\t\t\t\t\t\t\t\tmemberCardInfor: item,\n\t\t\t\t\t\t\t\tmemberCurrent: memberCurrent\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t// 触发二维码/条形码弹窗\r\n\t\t\tcodePopup() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.isUserCode = true\r\n\t\t\t\tthat.$refs.loading.open()\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t// 获取二维码\r\n\t\t\t\t\tthat.getQR()\r\n\t\t\t\t\t// 获取条形码\r\n\t\t\t\t\tthat.getTki()\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\t// 获取二维码\r\n\t\t\tgetQR() {\r\n\t\t\t\tthis.qrUrl = Qr.createQrCodeImg(this.memberInfo.cardNumber)\r\n\t\t\t},\r\n\t\t\t// 获取条形码\r\n\t\t\tgetTki() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet codeWidth = 0\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tcodeWidth = 670 * res.screenWidth / 750\r\n\t\t\t\t\t\tTki.code128(wx.createCanvasContext('brcode'), that.memberInfo.cardNumber, codeWidth, 100);\r\n\t\t\t\t\t\t// 蒙板\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tthat.isUserCodes = false\r\n\t\t\t\t\t\t\tthat.$refs.loading.close()\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 手动切换会员卡\r\n\t\t\tcardSwitch(index) {\r\n\t\t\t\tlet cardLevel = index + 1\r\n\t\t\t\tif (index < 10) {\r\n\t\t\t\t\tcardLevel = '0' + cardLevel\r\n\t\t\t\t}\r\n\t\t\t\t// 获取会员权益列表\r\n\t\t\t\tthis.getPictureList(cardLevel)\r\n\t\t\t},\r\n\t\t\t// 广告banner 跳转\r\n\t\t\tbannerJump(index) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet banner = that.swiperList[index]\r\n\t\t\t\tif (banner.publicityType == 1) { // 商品类\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (banner.publicityType == 2) { // 活动类\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (banner.publicityType == 3) { // 其他\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 弹出层广告 跳转\r\n\t\t\tgoGoodsPage(value) {\r\n\t\t\t\tif (value.publicityType == 1) { // 商品类\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (value.publicityType == 2) { // 活动类\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (value.publicityType == 3) { // 其他\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 跳转入口\n\t\t\tgoJump(value) {\n\t\t\t\t/**\n\t\t\t\t * 跳转入口\n\t\t\t\t * 根据跳转类型区分跳转方式：页面、H5、小程序\n\t\t\t\t * \n\t\t\t\t * */\n\t\t\t\t\n\t\t\t\tlet that = this\n\t\t\t\t// 策略类\n\t\t\t\tlet refreshStrategy = {\n\t\t\t\t\t// O2O 跳转小程序\n\t\t\t\t\t'O2O小程序': function(grade, pageUrl) {\n\t\t\t\t\t\tuni.navigateToMiniProgram({\n\t\t\t\t\t\t\tappId: 'wxb10fb3edeebbf938', // 需要跳转到指定的小程序appid\n\t\t\t\t\t\t\tpath: 'pages/startUp/startUp' // 打开的页面\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t// 公众号\n\t\t\t\t\t'成为团长': function(grade, pageUrl) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../embedH5/copyright?embedSrc=' + pageUrl + '&title=' + grade\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t// 系统设置\n\t\t\t\t\t'设置': function(grade, pageUrl) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../systemSettings/systemSettings'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t// 秒杀商品\n\t\t\t\t\t'秒杀商品': function(grade, pageUrl) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../seckill/seckill'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t// 扫码核销\n\t\t\t\t\t'扫码核销': function(grade, pageUrl) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../writtenOffCoupons/writtenOffCoupons'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t// 每日签到\n\t\t\t\t\t'每日签到': function(grade, pageUrl) {\n\t\t\t\t\t\t// 校验每日签到是否开启\n\t\t\t\t\t\tthat.isSignInOpen()\n\t\t\t\t\t},\n\t\t\t\t\t// 幸运抽奖\n\t\t\t\t\t'幸运抽奖': function(grade, pageUrl) {\n\t\t\t\t\t\t// 校验幸运抽奖是否开启\n\t\t\t\t\t\tthat.isLuckDrawOpen()\n\t\t\t\t\t},\n\t\t\t\t\t// 我的订单\n\t\t\t\t\t'我的订单': function(grade, pageUrl) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../myOrders/myOrders'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\t// 环境类\n\t\t\t\tlet refreshEnvironment = function(grade) {\n\t\t\t\t\treturn refreshStrategy[grade](grade, value.pageUrl)\n\t\t\t\t}\n\t\t\t\trefreshEnvironment(value.description)\n\t\t\t},\n\t\t\t// 校验每日签到是否开启\n\t\t\tisSignInOpen() {\n\t\t\t\tlet that = this\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tthat.request({\n\t\t\t\t\turl: that.config.getSignInDetail,\n\t\t\t\t}).then(res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tif (res.statusCode != 200) return\n\t\t\t\t\tlet data = res.data.data\n\t\t\t\t\tif( data != null && data.status ) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../luckDraw/signIn'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../luckDraw/notDtarted?type=1'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 校验幸运抽奖是否开启\n\t\t\tisLuckDrawOpen() {\n\t\t\t\tlet that = this\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tthat.request({\n\t\t\t\t\turl: that.config.getOpenActivity,\n\t\t\t\t}).then(res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tif (res.statusCode != 200) return\n\t\t\t\t\tlet data = res.data.data\n\t\t\t\t\tlet luckDraw = JSON.stringify(data)\n\t\t\t\t\tif( data.drawStyle && data.drawStyle == 1 ) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../luckDraw/luckDraw'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if( data.drawStyle && data.drawStyle == 2 ) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../luckDraw/turntable'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../luckDraw/notDtarted?type=2'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 点击头像跳转个人设置\r\n\t\t\tpersonalData() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../personalData/personalData'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 积分跳转\r\n\t\t\tgoIntegral() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../membershipPoints/membershipPoints?memberId=' + this.memberInfo.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 我的钱包\r\n\t\t\tgoMyWallet() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../myWallet/myWallet'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 礼品卡跳转\r\n\t\t\tgoGiftCard() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../giftCard/giftCard'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 优惠券跳转\r\n\t\t\tgoMyCoupon() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../myCoupon/myCoupon'\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t// 修改时间戳\n\t\t\ttimeDay(timestamp) {\n\t\t\t\tconst dt = new Date(timestamp) // 时间戳为10位需*1000，时间戳为13位的话不需乘1000\n\t\t\t\tconst y = dt.getFullYear()\n\t\t\t\tconst m = (dt.getMonth() + 1 + '').padStart(2, '0')\n\t\t\t\tconst d = (dt.getDate() + '').padStart(2, '0')\n\t\t\t\tconst hh = (dt.getHours() + '').padStart(2, '0')\n\t\t\t\tconst mm = (dt.getMinutes() + '').padStart(2, '0')\n\t\t\t\tconst ss = (dt.getSeconds() + '').padStart(2, '0')\n\t\t\t\t// return y + \"-\" + m + \"-\" + d + \" \" + hh + \":\" + mm + \":\" + ss\n\t\t\t\treturn y + \"-\" + m + \"-\" + d\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t/* 标题  */\r\n\t.header {\r\n\t\t/* height: 450rpx; */\r\n\t\tbackground: linear-gradient(to right, #EBAE93, #E6907A);\r\n\t}\r\n\r\n\t/* 下拉加载 start */\r\n\t.loading-icon-text {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\theight: 90rpx;\r\n\t\tmargin-top: -90rpx;\r\n\t}\r\n\r\n\t.loading-icon-text image {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin: 15rpx 0;\r\n\t}\r\n\r\n\t@keyframes loadingImg {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t.loadingImg {\r\n\t\tanimation: loadingImg .8s linear infinite;\r\n\t}\r\n\r\n\t/* 下拉加载 end */\r\n\r\n\t/* 会员卡 start */\r\n\t.member {\r\n\t\t/* height: 350rpx; */\r\n\t\t/* margin: -270rpx 20rpx; */\n\t\t/* width: 710rpx; */\n\t\tpadding: 30rpx 20rpx 0;\n\t\t/* border-radius: 20rpx; */\n\t\tbackground: linear-gradient(to right, #EBAE93, #E6907A);\r\n\t}\r\n\r\n\t/* 会员卡 end */\r\n\r\n\t/* 积分 start */\r\n\t.integral {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: relative;\r\n\t\theight: 110rpx;\n\t\tmargin-top: -60rpx;\r\n\t\tz-index: 30;\r\n\t\twidth: 100vw;\r\n\t\t&::after{\r\n\t\t\tcontent: \"\";\r\n\t\t\tposition: absolute;\r\n\t\t\tz-index: -1;\r\n\t\t\theight: calc(110rpx - 40rpx);\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\twidth: 100%;\r\n\t\t\ttop: 40rpx;\r\n\t\t}\r\n\t\t.left{\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: calc((100% - 80rpx) / 2);\r\n\t\t\tborder-radius: 0 40rpx 0 0;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t}\r\n\t\t.center{\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground-color: #ED6D46;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t.integral-center-icon{\r\n\t\t\t\ttransform: scale(0.65);\r\n\t\t\t}\r\n\t\t}\r\n\t\t.right{\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: calc((100% - 80rpx) / 2);\r\n\t\t\tborder-radius: 40rpx 0 0 0;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t}\r\n\t}\r\n\r\n\t.integral-item {\r\n\t\tflex: 1;\r\n\t\theight: 110rpx;\r\n\t\tmargin: 20rpx 0;\r\n\t}\r\n\r\n\t.integral-top {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 600;\r\n\t\ttext-align: center;\r\n\t\tline-height: 45rpx;\r\n\t\tmax-width: 180rpx;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.integral-botton {\r\n\t\tfont-size: 24rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 45rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t/* 积分 end */\r\n\r\n\r\n\t/* 用户二维码/条形码 start */\r\n\t.userCode {\r\n\t\tposition: relative;\r\n\t\theight: 60vh;\r\n\t}\r\n\r\n\t.popup {\r\n\t\theight: 60vh;\r\n\t\tz-index: 40;\r\n\t}\r\n\r\n\t.bar-code {\r\n\t\tpadding: 100rpx 0 20rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t\tborder-bottom: 2rpx solid #EEEEEE;\r\n\t}\r\n\r\n\t.bar-code-code {\r\n\t\theight: 200rpx;\r\n\t}\r\n\r\n\t.bar_code {\r\n\t\twidth: 670rpx;\r\n\t\theight: 200rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\r\n\t.bar-code-num {\r\n\t\theight: 80rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 60rpx;\r\n\t}\r\n\r\n\t.qr-code>image {\r\n\t\twidth: 300rpx;\r\n\t\theight: 300rpx;\r\n\t\tmargin: 30rpx 225rpx;\r\n\t}\r\n\r\n\t.userCodeMask {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 750rpx;\r\n\t\theight: 60vh;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tz-index: 50;\r\n\t}\r\n\r\n\t/* 用户二维码/条形码 end */\r\n\r\n\r\n\t/* 会员权益 start */\r\n\t.service {}\r\n\r\n\t/* 会员权益 end */\r\n\r\n\r\n\t/* 广告轮播 start */\r\n\t.swiper-box {\r\n\t\tmargin: 20rpx 20rpx 0;\r\n\t}\r\n\r\n\t.swiper-image {\r\n\t\twidth: 710rpx;\r\n\t}\r\n\r\n\t/* 广告轮播 end */\r\n\r\n\r\n\t/* 弹出式广告 start */\r\n\t.couponPop {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.couponPop .couponPopView {\r\n\t\twidth: 500rpx;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.couponPopView>image {\r\n\t\twidth: 500rpx;\r\n\t}\r\n\r\n\t.dvertisement-close {\r\n\t\theight: 80rpx;\r\n\t\tmargin-top: 50rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 80rpx;\r\n\t}\r\n\r\n\t/* 弹出式广告 end */\r\n\r\n\r\n\t/* 跳转入口 start */\r\n\t.setup-tool {\r\n\t\tmargin-top: 20rpx;\r\n\t\t/* padding-top: 30rpx; */\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t/* 跳转入口 end */\r\n</style>\n","import mod from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=71e217db&scoped=true&lang=scss&\"; export default mod; export * from \"-!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=71e217db&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680766833433\n      var cssReload = require(\"F:/App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}